<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FANZZ777</title>
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/header.css">
<link rel="stylesheet" href="css/menu.css">
<link rel="stylesheet" href="css/animation.css">
<style>
body {background:#0d0d0d; color:gold; font-family:sans-serif;}
.header {display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background:#111;}
.header .logo {font-size:24px; font-weight:bold; color:gold;}
.menu {display:flex; justify-content:space-around; background:#121212; padding:10px 0; flex-wrap:wrap;}
.menu button {background:transparent; border:none; color:gold; font-weight:bold; cursor:pointer; display:flex; align-items:center; gap:5px; transition:transform 0.2s;}
.menu button:hover {transform:scale(1.05);}
.menu button img {width:32px; height:32px;}
.banner-slider {display:flex; overflow-x:auto; gap:10px; scroll-snap-type:x mandatory;}
.banner-slider img {flex:0 0 100%; scroll-snap-align:start; border-radius:12px; max-height:200px; object-fit:cover;}
.banner-slider::-webkit-scrollbar {display:none;}
.banner-slider {-ms-overflow-style:none; scrollbar-width:none;}
.actions button {display:flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px; background:#222; color:gold; font-weight:bold; cursor:pointer; border:none; transition:transform 0.1s, box-shadow 0.2s;}
.actions button img {width:32px; height:32px;}
.actions button:hover {transform:scale(1.05); box-shadow:0 0 10px gold;}
.modal {display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#222; padding:20px; border-radius:12px; color:gold; z-index:1000; width:90%; max-width:400px;}
.panel {display:none; background:#111; padding:10px; border-radius:10px; color:gold; margin-top:10px;}
input, select {width:100%; padding:8px; margin:5px 0 10px 0; border-radius:6px; border:none; outline:none; background:#333; color:gold;}
button {cursor:pointer;}
#waButton {position:fixed; bottom:20px; left:20px; width:60px; height:60px; z-index:1000; display:flex; justify-content:center; align-items:center; animation:pulse 1.5s infinite;}
#waButton img {width:100%; height:100%;}
@keyframes pulse {0%{transform:scale(1);}50%{transform:scale(1.2);}100%{transform:scale(1);}}
#waButton:hover {transform:scale(1.3);}
</style>
</head>
<body>

<header class="header">
  <div class="logo">FANZZ777</div>
  <div id="authBox"></div>
</header>

<!-- Menu utama -->
<nav class="menu">
  <button onclick="go('slot')"><img src="assets/icons/slot.png" alt="Slot"> Slot</button>
  <button onclick="go('casino')"><img src="assets/icons/casino.png" alt="Casino"> Casino</button>
  <button onclick="go('togel')"><img src="assets/icons/togel.png" alt="Togel"> Togel</button>
  <button onclick="go('arcade')"><img src="assets/icons/arcade.png" alt="Arcade"> Arcade</button>
  <button onclick="go('poker')"><img src="assets/icons/poker.png" alt="Poker"> Poker</button>
  <button onclick="go('developer')"><img src="assets/icons/developer.png" alt="Developer"> Developer</button>
</nav>

<!-- Banner slider -->
<section class="banner">
  <div class="banner-slider">
    <img src="assets/banners/banner_main.jpg" alt="Banner Main">
    <img src="assets/banners/banner_pgsoft.jpg" alt="Banner PGSoft">
    <img src="assets/banners/banner_pragmatic.jpg" alt="Banner Pragmatic">
    <img src="assets/banners/banner_TopUp.jpg" alt="Banner TopUp">
    <img src="assets/banners/banner_jualbeli.jpg" alt="Banner JualBeli">
    <img src="assets/banners/banner_saya.jpg" alt="Banner Saya">
    <img src="assets/banners/banner_teman.jpg" alt="Banner Teman">
    <img src="assets/banners/banner_foto1.jpg" alt="Banner Foto1">
    <img src="assets/banners/banner_foto2.jpg" alt="Banner Foto2">
    <img src="assets/banners/banner_foto3.jpg" alt="Banner Foto3">
  </div>
</section>

<main id="panel" class="content">
  <h2>MENU TERGACORRRðŸ”¥ðŸ¤©ðŸ¥µ</h2>
  <div class="actions">
    <button onclick="openDeposit()"><img src="assets/icons/deposit.png" alt="Deposit"> Deposit</button>
    <button onclick="openWithdraw()"><img src="assets/icons/withdraw.png" alt="Withdraw"> Withdraw</button>
    <button onclick="showHistory()"><img src="assets/icons/history.jpg" alt="Histori"> Histori</button>
    <button onclick="showLeaderboard()"><img src="assets/icons/leaderboard.jpg" alt="Leaderboard"> Leaderboard</button>
    <button onclick="logoutPlayer()"><img src="assets/icons/logout.jpg" alt="Logout"> Logout</button>
  </div>

  <!-- Deposit Modal -->
  <div id="depositModal" class="modal">
    <h3>Deposit</h3>
    <p>Rekening kamu: <span id="playerAccount"></span></p>
    <input type="number" id="depositAmount" placeholder="Ketik nominal deposit">
    <p>Rekening Tujuan QRIS:</p>
    <img src="assets/qris/qris_main.jpg" alt="QRIS" style="width:150px;">
    <br><br>
    <button onclick="confirmDeposit()">Konfirmasi</button>
    <button onclick="closeDeposit()">Batal</button>
  </div>

  <!-- Withdraw Modal -->
  <div id="withdrawModal" class="modal">
    <h3>Withdraw</h3>
    <p>Rekening kamu: <span id="playerAccountWithdraw"></span></p>
    <input type="number" id="withdrawAmount" placeholder="Ketik nominal withdraw">
    <br><br>
    <button onclick="confirmWithdraw()">Konfirmasi</button>
    <button onclick="closeWithdraw()">Batal</button>
  </div>

  <!-- Histori -->
  <div id="historyPanel" class="panel">
    <h3>Histori</h3>
    <ul id="historyList"></ul>
  </div>

  <!-- Leaderboard -->
  <div id="leaderboardPanel" class="panel">
    <h3>Leaderboard</h3>
    <ul id="leaderboardList"></ul>
  </div>
</main>

<!-- Login Modal -->
<div id="loginModal" class="modal">
  <h3>Login</h3>
  <input type="text" id="loginUsername" placeholder="Username">
  <input type="password" id="loginPassword" placeholder="Password">
  <br>
  <button onclick="loginPlayer()">Login</button>
  <button onclick="closeLogin()">Batal</button>
  <p>Belum punya akun? <span style="color:gold; cursor:pointer;" onclick="openRegister()">Daftar</span></p>
</div>

<!-- Register Modal -->
<div id="registerModal" class="modal">
  <h3>Daftar Akun</h3>
  <input type="text" id="regUsername" placeholder="Username">
  <input type="password" id="regPassword" placeholder="Password">
  <input type="password" id="regPasswordConfirm" placeholder="Konfirmasi Password">
  <input type="email" id="regEmail" placeholder="Email (@gmail.com)">
  <select id="regEwallet">
    <option value="">Pilih E-Wallet</option>
    <option value="dana">Dana</option>
    <option value="gopay">GoPay</option>
    <option value="shoppe pay">Shopee Pay</option>
    <option value="ovo">OVO</option>
  </select>
  <input type="text" id="regEwalletNo" placeholder="Masukkan Nomor E-Wallet">
  <select id="regBank">
    <option value="">Pilih Bank</option>
    <option value="bri">BRI</option>
    <option value="bca">BCA</option>
    <option value="bni">BNI</option>
    <option value="chimbi niaga">Chimbi Niaga</option>
    <option value="bpd diy">BPD DIY</option>
  </select>
  <input type="text" id="regBankNo" placeholder="Masukkan Nomor Rekening Bank">
  <input type="text" id="regRef" placeholder="Kode Referral (Opsional)">
  <br>
  <button onclick="registerPlayer()">Konfirmasi</button>
  <button onclick="closeRegister()">Batal</button>
</div>

<!-- WhatsApp Floating Button -->
<a id="waButton" href="https://wa.me/6289618602130" target="_blank">
  <img src="assets/icons/whatsapp.png" alt="WhatsApp">
</a>

<script src="js/data-games.js"></script>
<script src="js/render-games.js"></script>
<script src="js/history.js"></script>
<script src="js/navigation.js"></script>
<script src="js/interaction.js"></script>
<script src="js/wallet.js"></script>

<script>
// ----- AUTH -----
function renderAuthBox(){
  const authBox = document.getElementById('authBox');
  const current = JSON.parse(localStorage.getItem('currentPlayer'));
  if(current){
    authBox.innerHTML = `
      <span>Hi, ${current.username}</span>
      <button onclick="logoutPlayer()" style="margin-left:10px;">Logout</button>`;
  } else {
    authBox.innerHTML = `<button onclick="openLogin()">Login</button> <button onclick="openRegister()">Daftar</button>`;
    openLogin(); // langsung muncul modal login
  }
}

function openLogin(){ document.getElementById('loginModal').style.display='block'; }
function closeLogin(){ document.getElementById('loginModal').style.display='none'; }
function openRegister(){ closeLogin(); document.getElementById('registerModal').style.display='block'; }
function closeRegister(){ document.getElementById('registerModal').style.display='none'; }

function registerPlayer(){
  const username = document.getElementById('regUsername').value.trim();
  const password = document.getElementById('regPassword').value;
  const confirm = document.getElementById('regPasswordConfirm').value;
  const email = document.getElementById('regEmail').value.trim();
  const ewallet = document.getElementById('regEwallet').value;
  const ewalletNo = document.getElementById('regEwalletNo').value.trim();
  const bank = document.getElementById('regBank').value;
  const bankNo = document.getElementById('regBankNo').value.trim();

  if(!username || !password || !confirm || !email){ alert("Field wajib diisi!"); return; }
  if(password!==confirm){ alert("Password tidak sama!"); return; }
  if(!email.endsWith("@gmail.com")){ alert("Email harus @gmail.com"); return; }

  let players = JSON.parse(localStorage.getItem('players')) || [];
  if(players.find(p=>p.username===username)){ alert("Username sudah dipakai!"); return; }

  const newPlayer = {
    username, password, email,
    ewallet: ewallet && ewalletNo ? `${ewallet} (${ewalletNo})` : "",
    bank: bank && bankNo ? `${bank} (${bankNo})` : "",
    saldo:0,
    referral: document.getElementById('regRef').value.trim()
  };
  players.push(newPlayer);
  localStorage.setItem('players', JSON.stringify(players));
  alert("Daftar berhasil!");
  closeRegister();
}

function loginPlayer(){
  const username = document.getElementById('loginUsername').value.trim();
  const password = document.getElementById('loginPassword').value;
  const players = JSON.parse(localStorage.getItem('players')) || [];
  const player = players.find(p=>p.username===username && p.password===password);
  if(!player){ alert("Username/Password salah!"); return; }
  localStorage.setItem('currentPlayer', JSON.stringify(player));
  alert("Login berhasil!");
  closeLogin();
  renderAuthBox();
}

function logoutPlayer(){
  localStorage.removeItem('currentPlayer');
  renderAuthBox();
  alert("Logout berhasil!");
}

// Jalankan saat load
renderAuthBox();
</script>
</body>
        </html>

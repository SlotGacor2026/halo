<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FANZZ777</title>

<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/header.css">
<link rel="stylesheet" href="css/menu.css">
<link rel="stylesheet" href="css/animation.css">

<style>
/* Popup form dasar */
.modal {
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.7);
  display:flex; justify-content:center; align-items:center;
  z-index:100;
}
.modal-content{
  background:#fff; padding:20px; border-radius:10px;
  width:90%; max-width:400px; text-align:center;
}
.banner-slider { display:flex; overflow:hidden; max-width:100%; }
.banner-slider img { width:100%; flex-shrink:0; transition:0.5s; }
</style>
</head>
<body>

<header class="header gold">
  <div class="logo">FANZZ777</div>
  <div id="authBox">
    <button id="loginBtn">Login</button>
    <button id="registerBtn">Daftar</button>
    <span id="userDisplay" style="display:none;">
      Hi, <span id="usernameDisplay"></span> | Coins: <span id="userCoins">0</span>
      <button id="logoutBtn">Logout</button>
    </span>
  </div>
</header>

<nav class="menu">
  <button onclick="go('slot')"><img src="assets/icons/slot.png" alt="Slot"> Slot</button>
  <button onclick="go('casino')"><img src="assets/icons/casino.png" alt="Casino"> Casino</button>
  <button onclick="go('togel')"><img src="assets/icons/togel.png" alt="Togel"> Togel</button>
  <button onclick="go('arcade')"><img src="assets/icons/arcade.png" alt="Arcade"> Arcade</button>
  <button onclick="go('poker')"><img src="assets/icons/poker.png" alt="Poker"> Poker</button>
  <button onclick="go('developer')"><img src="assets/icons/developer.png" alt="Developer"> Developer</button>
</nav>

<section class="banner">
  <div class="banner-slider" id="bannerSlider">
    <img src="assets/banners/banner_main.jpg" alt="Banner Main" loading="lazy">
    <img src="assets/banners/banner_pgsoft.jpg" alt="Banner PGSoft" loading="lazy">
    <img src="assets/banners/banner_pragmatic.jpg" alt="Banner Pragmatic" loading="lazy">
    <img src="assets/banners/banner_topup.jpg" alt="Banner TopUp" loading="lazy">
    <img src="assets/banners/banner_jualbeli.jpg" alt="Banner JualBeli" loading="lazy">
    <img src="assets/banners/banner_saya.jpg" alt="Banner Saya" loading="lazy">
    <img src="assets/banners/banner_teman.jpg" alt="Banner Teman" loading="lazy">
    <img src="assets/banners/banner_foto1.jpg" alt="Banner Foto1" loading="lazy">
    <img src="assets/banners/banner_foto2.jpg" alt="Banner Foto2" loading="lazy">
    <img src="assets/banners/banner_foto3.jpg" alt="Banner Foto3" loading="lazy">
  </div>
</section>

<main id="panel" class="content">
  <h2>Demo Lobby (POINT)</h2>
  <div class="actions">
    <button onclick="deposit()"><img src="assets/icons/deposit.png" alt="Deposit"> Deposit</button>
    <button onclick="withdraw()"><img src="assets/icons/withdraw.png" alt="Withdraw"> Withdraw</button>
    <button onclick="showHistory()"><img src="assets/icons/history.png" alt="Histori"> Histori</button>
    <button onclick="showLeaderboard()"><img src="assets/icons/leaderboard.png" alt="Leaderboard"> Leaderboard</button>
    <button onclick="logout()">Logout</button>
  </div>
</main>

<!-- Form Login -->
<div id="loginForm" class="modal" style="display:none;">
  <div class="modal-content">
    <h2>Login</h2>
    <input type="text" id="loginUsername" placeholder="Username">
    <input type="password" id="loginPassword" placeholder="Password">
    <button id="loginSubmit">Login</button>
    <button onclick="closeLogin()">Batal</button>
  </div>
</div>

<!-- Form Daftar -->
<div id="registerForm" class="modal" style="display:none;">
  <div class="modal-content">
    <h2>Daftar</h2>
    <input type="text" id="regUsername" placeholder="Username">
    <input type="password" id="regPassword" placeholder="Password">
    <input type="password" id="regConfirmPassword" placeholder="Konfirmasi Password">
    <input type="email" id="regEmail" placeholder="Email">
    <select id="regEwallet">
      <option value="">Pilih E-Wallet</option>
      <option value="dana">Dana</option>
      <option value="gopay">GoPay</option>
      <option value="shoppepay">Shopee Pay</option>
      <option value="ovo">OVO</option>
    </select>
    <input type="text" id="regEwalletNo" placeholder="Nomor E-Wallet">
    <select id="regBank">
      <option value="">Pilih Bank</option>
      <option value="bri">BRI</option>
      <option value="bni">BNI</option>
      <option value="bpddiy">BPDDIY</option>
      <option value="cimb">CIMB</option>
      <!-- bisa ditambah bank lain -->
    </select>
    <input type="text" id="regBankNo" placeholder="Nomor Rekening Bank">
    <input type="text" id="regRef" placeholder="Kode Referral (opsional)">
    <button id="registerSubmit">Konfirmasi</button>
    <button onclick="closeRegister()">Batal</button>
  </div>
</div>

<script src="js/data-games.js"></script>
<script src="js/render-games.js"></script>
<script src="js/wallet.js"></script>
<script src="js/history.js"></script>
<script src="js/navigation.js"></script>
<script src="js/interaction.js"></script>

<script>
// Banner slider otomatis
let sliderIndex=0;
const banners=document.querySelectorAll("#bannerSlider img");
function showBanner(){
  banners.forEach((b,i)=>b.style.transform=`translateX(-${sliderIndex*100}%)`);
}
setInterval(()=>{ sliderIndex=(sliderIndex+1)%banners.length; showBanner(); },3000);

// Login/Daftar
document.getElementById("loginBtn").onclick = ()=> document.getElementById("loginForm").style.display="flex";
document.getElementById("registerBtn").onclick = ()=> document.getElementById("registerForm").style.display="flex";
function closeLogin(){ document.getElementById("loginForm").style.display="none"; }
function closeRegister(){ document.getElementById("registerForm").style.display="none"; }

// Daftar user
document.getElementById("registerSubmit").onclick = ()=>{
  const username=document.getElementById("regUsername").value;
  const password=document.getElementById("regPassword").value;
  const confirm=document.getElementById("regConfirmPassword").value;
  const email=document.getElementById("regEmail").value;
  if(!username||!password||!confirm||!email){ alert("Isi semua field wajib"); return; }
  if(password!==confirm){ alert("Password tidak sama"); return; }
  let users=JSON.parse(localStorage.getItem("users")||"[]");
  if(users.find(u=>u.username===username)){ alert("Username sudah ada"); return; }
  users.push({username,password,email,coins:0});
  localStorage.setItem("users",JSON.stringify(users));
  alert("Daftar berhasil! Silahkan login");
  closeRegister();
}

// Login user
document.getElementById("loginSubmit").onclick = ()=>{
  const username=document.getElementById("loginUsername").value;
  const password=document.getElementById("loginPassword").value;
  let users=JSON.parse(localStorage.getItem("users")||"[]");
  let user=users.find(u=>u.username===username && u.password===password);
  if(!user){ alert("Username/Password salah"); return; }
  localStorage.setItem("currentUser",username);
  updateUserDisplay();
  closeLogin();
}

// Logout
document.getElementById("logoutBtn").onclick = ()=>{
  localStorage.removeItem("currentUser");
  updateUserDisplay();
}

// Update tampilan user
function updateUserDisplay(){
  const username=localStorage.getItem("currentUser");
  if(username){
    let users=JSON.parse(localStorage.getItem("users")||"[]");
    let user=users.find(u=>u.username===username);
    document.getElementById("userDisplay").style.display="inline";
    document.getElementById("usernameDisplay").innerText=user.username;
    document.getElementById("userCoins").innerText=user.coins;
    document.getElementById("loginBtn").style.display="none";
    document.getElementById("registerBtn").style.display="none";
  }else{
    document.getElementById("userDisplay").style.display="none";
    document.getElementById("loginBtn").style.display="inline";
    document.getElementById("registerBtn").style.display="inline";
  }
}
updateUserDisplay();

// Fungsi placeholder deposit/withdraw (ACC bandar nanti)
function deposit(){ alert("Deposit harus ACC bandar (belum diimplementasikan)"); }
function withdraw(){ alert("Withdraw harus ACC bandar (belum diimplementasikan)"); }
function showHistory(){ alert("Histori belum diimplementasikan"); }
function showLeaderboard(){ alert("Leaderboard belum diimplementasikan"); }
function go(page){ window.location.href=`pages/${page}.html`; }
</script>
</body>
      </html>

<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FANZZ777</title>
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/header.css">
<link rel="stylesheet" href="css/menu.css">
<link rel="stylesheet" href="css/animation.css">
<style>
body { margin:0; font-family:Arial, sans-serif; background:#0a0a0a; color:gold; }
.header.gold { background: linear-gradient(90deg,#b8860b,#222); color:gold; padding:10px; display:flex; justify-content:space-between; align-items:center;}
.logo{ font-size:24px; font-weight:bold;}
.menu { display:flex; justify-content:space-around; background:#121a2a; padding:10px 0;}
.menu button { background:transparent; border:none; color:gold; font-weight:bold; cursor:pointer; display:flex; align-items:center; gap:5px; transition:transform 0.2s;}
.menu button:hover{transform:scale(1.05);}
.menu button img{width:32px;height:32px;}
.banner-slider{display:flex; overflow-x:auto; gap:10px; scroll-behavior:smooth;}
.banner-slider img{flex:0 0 100%; border-radius:12px; max-height:200px; object-fit:cover;}
.banner-slider::-webkit-scrollbar{display:none;}
.banner-slider{-ms-overflow-style:none;scrollbar-width:none;}
.actions button{display:flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px; background:#222; color:gold; font-weight:bold; cursor:pointer; border:none; transition:transform 0.1s, box-shadow 0.2s;}
.actions button:hover{transform:scale(1.05); box-shadow:0 0 10px gold;}
.actions button img{width:32px;height:32px;}
.modal { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#222; padding:20px; border-radius:12px; color:gold; z-index:1000; width:90%; max-width:400px;}
.panel { display:none; background:#111; padding:10px; border-radius:10px; color:gold; margin-top:10px;}
#waButton { position:fixed; bottom:20px; left:20px; width:60px; height:60px; z-index:1000; display:flex; justify-content:center; align-items:center; animation:pulse 1.5s infinite;}
#waButton img{width:100%;height:100%;}
@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.2);}100%{transform:scale(1);}}
#waButton:hover{transform:scale(1.3);}
input, select { width:100%; padding:8px; margin:5px 0 10px 0; border-radius:6px; border:none; }
button.confirm, button.cancel { padding:8px 15px; border:none; border-radius:6px; font-weight:bold; cursor:pointer; margin-right:10px;}
button.confirm { background:gold; color:#000; }
button.cancel { background:#444; color:gold; }
</style>
</head>
<body>

<header class="header gold">
  <div class="logo">FANZZ777</div>
  <div id="authBox"></div>
</header>

<main id="panel" class="content">
  <!-- Login / Daftar Modal -->
  <div id="authModal" class="modal">
    <h3 id="authTitle">Login</h3>
    <div id="loginForm">
      <input type="text" id="loginUsername" placeholder="Username" required>
      <input type="password" id="loginPassword" placeholder="Password" required>
      <button class="confirm" onclick="loginPlayer()">Login</button>
      <button class="cancel" onclick="switchToRegister()">Daftar</button>
    </div>
    <div id="registerForm" style="display:none;">
      <input type="text" id="regUsername" placeholder="Username" required>
      <input type="password" id="regPassword" placeholder="Password" required>
      <input type="password" id="regConfirmPassword" placeholder="Konfirmasi Password" required>
      <input type="email" id="regEmail" placeholder="Email @gmail.com" required>
      <select id="regEwallet">
        <option value="">Pilih E-wallet</option>
        <option value="DANA">DANA</option>
        <option value="GoPay">GoPay</option>
        <option value="ShopeePay">ShopeePay</option>
        <option value="OVO">OVO</option>
        <option value="LinkAja">LinkAja</option>
      </select>
      <input type="text" id="regNoRek" placeholder="Nomor Rekening" required>
      <select id="regBank">
        <option value="">Pilih Bank</option>
        <option value="BRI">BRI</option>
        <option value="BCA">BCA</option>
        <option value="BNI">BNI</option>
        <option value="CIMB Niaga">CIMB Niaga</option>
        <option value="BPD DIY">BPD DIY</option>
      </select>
      <input type="text" id="regReferral" placeholder="Kode Referral (opsional)">
      <button class="confirm" onclick="registerPlayer()">Konfirmasi</button>
      <button class="cancel" onclick="switchToLogin()">Batal</button>
    </div>
  </div>

  <!-- Setelah login tampil panel utama -->
  <div id="lobby" style="display:none;">
    <h2>SLOT TERGACORRR CUMAN FANZZ777</h2>
    <div class="actions">
      <button onclick="openDeposit()"><img src="assets/icons/deposit.png" alt="Deposit"> Deposit</button>
      <button onclick="openWithdraw()"><img src="assets/icons/withdraw.png" alt="Withdraw"> Withdraw</button>
      <button onclick="showHistory()"><img src="assets/icons/history.jpg" alt="Histori"> Histori</button>
      <button onclick="showLeaderboard()"><img src="assets/icons/leaderboard.jpg" alt="Leaderboard"> Leaderboard</button>
      <button onclick="logoutPlayer()"><img src="assets/icons/logout.jpg" alt="Logout"> Logout</button>
    </div>

    <!-- Deposit & Withdraw Modal sama seperti sebelumnya -->
    <!-- Histori & Leaderboard sama seperti sebelumnya -->
  </div>
</main>

<!-- WhatsApp Floating Button -->
<a id="waButton" href="#" target="_blank">
  <img src="assets/icons/whatsapp.png" alt="WhatsApp">
</a>

<script>
// ----- SWITCH LOGIN/REGISTER -----
function switchToRegister(){
  document.getElementById('loginForm').style.display='none';
  document.getElementById('registerForm').style.display='block';
  document.getElementById('authTitle').innerText='Daftar';
}
function switchToLogin(){
  document.getElementById('loginForm').style.display='block';
  document.getElementById('registerForm').style.display='none';
  document.getElementById('authTitle').innerText='Login';
}

// ----- REGISTER -----
function registerPlayer(){
  const username = document.getElementById('regUsername').value.trim();
  const password = document.getElementById('regPassword').value;
  const confirm = document.getElementById('regConfirmPassword').value;
  const email = document.getElementById('regEmail').value.trim();
  const ewallet = document.getElementById('regEwallet').value;
  const bank = document.getElementById('regBank').value;
  const norek = document.getElementById('regNoRek').value.trim();
  const referral = document.getElementById('regReferral').value.trim();

  if(!username || !password || !confirm || !email || (!ewallet && !bank) || !norek){
    alert("Semua field wajib diisi!");
    return;
  }
  if(password!==confirm){ alert("Password tidak cocok!"); return; }
  const players = JSON.parse(localStorage.getItem('players'))||[];
  if(players.find(p=>p.username===username)){ alert("Username sudah dipakai!"); return; }

  const newPlayer = {username,password,email,ewallet,bank,norek,referral,saldo:0};
  players.push(newPlayer);
  localStorage.setItem('players', JSON.stringify(players));
  alert("Daftar berhasil! Silahkan login.");
  switchToLogin();
}

// ----- LOGIN -----
function loginPlayer(){
  const username = document.getElementById('loginUsername').value.trim();
  const password = document.getElementById('loginPassword').value;
  const players = JSON.parse(localStorage.getItem('players'))||[];
  const player = players.find(p=>p.username===username && p.password===password);
  if(!player){ alert("Username/Password salah!"); return; }
  localStorage.setItem('currentPlayer', JSON.stringify(player));
  document.getElementById('authModal').style.display='none';
  document.getElementById('lobby').style.display='block';
  alert("Login berhasil!");
}

// ----- LOGOUT -----
function logoutPlayer(){ localStorage.removeItem('currentPlayer'); location.reload(); }
</script>

</body>
  </html>

<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FANZZ777</title>

<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/menu.css">
<link rel="stylesheet" href="css/animation.css">

</head>
<body>

<header class="header gold">
  <div class="logo">FANZZ777</div>
  <div id="authBox"></div>
</header>

<!-- Menu utama -->
<nav class="menu">
  <button onclick="requireLogin('pages/slot')"><img src="assets/icons/slot.png"> Slot</button>
  <button onclick="requireLogin('pages/casino')"><img src="assets/icons/casino.png"> Casino</button>
  <button onclick="requireLogin('pages/togel')"><img src="assets/icons/togel.png"> Togel</button>
  <button onclick="requireLogin('pages/arcade')"><img src="assets/icons/arcade.png"> Arcade</button>
  <button onclick="requireLogin('pages/poker')"><img src="assets/icons/poker.png"> Poker</button>
  <button onclick="requireLogin('pages/developer')"><img src="assets/icons/developer.png"> Developer</button>
</nav>

<!-- Banner Slider -->
<section class="banner">
  <div class="banner-slider">
    <img src="assets/banners/banner_main.jpg">
    <img src="assets/banners/banner_pgsoft.jpg">
    <img src="assets/banners/banner_pragmatic.jpg">
    <img src="assets/banners/banner_topup.jpg">
    <img src="assets/banners/banner_jualbeli.jpg">
    <img src="assets/banners/banner_saya.jpg">
    <img src="assets/banners/banner_teman.jpg">
    <img src="assets/banners/banner_foto1.jpg">
    <img src="assets/banners/banner_foto2.jpg">
    <img src="assets/banners/banner_foto3.jpg">
  </div>
</section>

<!-- Login / Daftar Modal -->
<div id="loginModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" onclick="closeLogin()">&times;</span>
    <h2>Login</h2>
    <input type="text" id="loginUsername" placeholder="Username">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="loginPlayer()">Login</button>
    <hr>
    <h2>Daftar</h2>
    <input type="text" id="regUsername" placeholder="Username">
    <input type="password" id="regPassword" placeholder="Password">
    <input type="password" id="regConfirmPassword" placeholder="Konfirmasi Password">
    <input type="email" id="regEmail" placeholder="Email @gmail.com">
    <input type="text" id="regEwallet" placeholder="E-wallet">
    <input type="text" id="regEwalletNo" placeholder="Nomor E-wallet">
    <input type="text" id="regBank" placeholder="Bank">
    <input type="text" id="regBankNo" placeholder="Nomor Bank">
    <input type="text" id="regReferral" placeholder="Kode Referral (opsional)">
    <button onclick="registerPlayer()">Daftar</button>
  </div>
</div>

<!-- Menu Deposit / Withdraw / Histori / Leaderboard / Logout -->
<main id="panel" class="content">
  <h2>Demo Lobby (POINT)</h2>
  <div class="actions">
    <button onclick="requireLogin('deposit')"><img src="assets/icons/deposit.png"> Deposit</button>
    <button onclick="requireLogin('withdraw')"><img src="assets/icons/withdraw.png"> Withdraw</button>
    <button onclick="requireLogin('histori')"><img src="assets/icons/histori.png"> Histori</button>
    <button onclick="requireLogin('leaderboard')"><img src="assets/icons/leaderboard.png"> Leaderboard</button>
    <button onclick="logout()"><img src="assets/icons/logout.png"> Logout</button>
  </div>
</main>

<script src="js/data-games.js"></script>
<script src="js/render-games.js"></script>
<script src="js/wallet.js"></script>
<script src="js/history.js"></script>
<script src="js/navigation.js"></script>
<script src="js/interaction.js"></script>

<!-- Slider -->
<script>
const slider = document.querySelector('.banner-slider');
let index = 0;
setInterval(()=>{
  const images = slider.querySelectorAll('img');
  images.forEach(img=>img.style.display="none");
  images[index].style.display="block";
  index=(index+1)%images.length;
},3000);
</script>

<script>
// Login / Daftar
function requireLogin(page){
  const currentUser = JSON.parse(localStorage.getItem("currentUser") || "null");
  if(!currentUser){
    document.getElementById("loginModal").style.display="flex";
  } else {
    window.location.href=page+".html";
  }
}
function closeLogin(){ document.getElementById("loginModal").style.display="none"; }

function registerPlayer(){
  const users = JSON.parse(localStorage.getItem("users")||"[]");
  const username = document.getElementById("regUsername").value;
  const password = document.getElementById("regPassword").value;
  const confirm = document.getElementById("regConfirmPassword").value;
  const email = document.getElementById("regEmail").value;
  const ewallet = document.getElementById("regEwallet").value;
  const ewalletNo = document.getElementById("regEwalletNo").value;
  const bank = document.getElementById("regBank").value;
  const bankNo = document.getElementById("regBankNo").value;
  const referral = document.getElementById("regReferral").value;

  if(!username||!password||!confirm||!email||!ewallet||!ewalletNo||!bank||!bankNo){
    alert("Semua wajib diisi!"); return;
  }
  if(password!==confirm){ alert("Password dan konfirmasi harus sama!"); return;}
  if(!email.includes("@gmail.com")){ alert("Email harus @gmail.com"); return;}

  users.push({username,password,email,ewallet,ewalletNo,bank,bankNo,referral,saldo:0,acc:false});
  localStorage.setItem("users",JSON.stringify(users));
  alert("Registrasi berhasil!"); closeLogin();
}

function loginPlayer(){
  const username = document.getElementById("loginUsername").value;
  const password = document.getElementById("loginPassword").value;
  const users = JSON.parse(localStorage.getItem("users")||"[]");
  const user = users.find(u=>u.username===username && u.password===password);
  if(user){ localStorage.setItem("currentUser",JSON.stringify(user)); alert("Login berhasil!"); closeLogin();}
  else alert("Username/Password salah!");
}

function logout(){ localStorage.removeItem("currentUser"); alert("Logout berhasil!"); location.reload();}
</script>

</body>
  </html>

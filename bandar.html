<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FANZZ777 - Control Bandar</title>
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/menu.css">
<link rel="stylesheet" href="css/animation.css">
</head>
<body>
<header class="header gold">
  <div class="logo">FANZZ777 - Control Bandar</div>
</header>

<main class="content">
  <h2>Daftar Pemain</h2>
  <table border="1" id="playersTable">
    <thead>
      <tr>
        <th>Username</th>
        <th>Saldo</th>
        <th>ACC Deposit</th>
        <th>ACC Withdraw</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</main>

<script>
// Cek jika bukan bandar
const bandarPassword = "BANDAR123"; // ganti sesuai password kamu
const entered = prompt("Masukkan password bandar:");
if(entered !== bandarPassword){
  alert("Akses ditolak!");
  window.location.href="index.html";
}

// Load pemain dari localStorage
function loadPlayers(){
  const users = JSON.parse(localStorage.getItem("users") || "[]");
  const tbody = document.querySelector("#playersTable tbody");
  tbody.innerHTML="";
  users.forEach((u,index)=>{
    const tr = document.createElement("tr");
    tr.innerHTML=`
      <td>${u.username}</td>
      <td>${u.saldo || 0}</td>
      <td>${u.acc ? "✅" : "❌"}</td>
      <td>${u.acc ? "✅" : "❌"}</td>
      <td>
        <button onclick="accPlayer(${index})">ACC</button>
        <button onclick="resetSaldo(${index})">Reset Saldo</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

function accPlayer(i){
  const users = JSON.parse(localStorage.getItem("users") || "[]");
  users[i].acc = true;
  localStorage.setItem("users",JSON.stringify(users));
  loadPlayers();
}

function resetSaldo(i){
  const users = JSON.parse(localStorage.getItem("users") || "[]");
  users[i].saldo = 0;
  localStorage.setItem("users",JSON.stringify(users));
  loadPlayers();
}

// Inisialisasi
loadPlayers();
</script>
</body>
</html>
